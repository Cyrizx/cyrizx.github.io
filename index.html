<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Contador de Visitas</title>
    <!-- Firebase App (la parte central de Firebase) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js"></script>
    <!-- Firebase Firestore -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js"></script>
    <!-- Firebase Authentication -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js"></script>
    <!-- Firebase Analytics (Opcional) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-analytics.js"></script>
</head>
<body>
    <h1>¡Bienvenido a mi página web!</h1>
    <p>Esta es una página alojada en GitHub Pages.</p>

    <script>
      // Tu configuración de Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyAQ-Vq5jLXGWTOysLFw3BMvADMXoVBdUuQ",
        authDomain: "contadordevisitas-63ab6.firebaseapp.com",
        projectId: "contadordevisitas-63ab6",
        storageBucket: "contadordevisitas-63ab6.appspot.com",
        messagingSenderId: "944306822546",
        appId: "1:944306822546:web:a87f3f6f545f2276dc354b",
        measurementId: "G-7X9YQKP8XS"
      };

      // Inicializar Firebase
      firebase.initializeApp(firebaseConfig);
      firebase.analytics(); // Opcional

      // Inicializar servicios
      const db = firebase.firestore();
      const auth = firebase.auth();

      // Autenticación Anónima
      auth.signInAnonymously()
        .then(() => {
          console.log("Usuario autenticado de forma anónima");

          // Obtener información del visitante
          const visitInfo = {
            timestamp: firebase.firestore.FieldValue.serverTimestamp(),
            userAgent: navigator.userAgent,
            // Opcional: Puedes agregar más información como la ubicación
          };

          // Escribir en Firestore
          db.collection("visitas").add(visitInfo)
            .then(() => {
              console.log("Visita registrada");
            })
            .catch((error) => {
              console.error("Error al registrar la visita: ", error);
            });
        })
        .catch((error) => {
          console.error("Error en la autenticación anónima: ", error);
        });
    </script>
</body>
</html>
